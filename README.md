## 구현 요구 사항

## STEP 1

### 기능 구현

- [x] 장바구니 데이터를 불러온다.
- [x] 장바구니 목록 선택 기능
  - [x] 전체 선택
  - [x] 개별 선택
- [x] 결제 금액 계산
  - [x] 배송비(3천원) 계산 (결제 금액 10만원 이상 무료)
- [x] 장바구니 목록 수량 변경
- [x] 장바구니 상품 제거
- [x] 장바구니에 담은 상품이 없는 경우 '주문 확인 버튼'이 비활성화 된다.
- [x] 주문 확인 버튼을 클릭하면 '주문 확인 페이지'로 이동
- [x] 장바구니의 상태를 스토리지에 저장하여 새로고침 시에도 유지되도록 한다.(장바구니 상품 선택 여부)

### 상태 관리

- Recoil을 사용하여 장바구니의 상태를 관리한다.
- 장바구니 상품의 다양한 상태를 Atom으로 관리한다.
- 결제 금액, 배송비 등의 파생 상태를 Selector를 통해 계산한다.

### RTL

- [x] 장바구니 데이터 로딩: /cart-items API 호출을 통해 초기 장바구니 데이터를 정상적으로 불러오는지 테스트한다.
- [x] 상품 선택 기능: 개별 상품의 선택/해제 시 선택 여부가 정상적으로 변경되는지 테스트한다.
- [x] 결제 금액 계산: 선택된 상품들의 가격 합계가 결제 금액으로 정상 반영되는지 테스트한다.
- [x] 배송비 계산: 결제 금액에 따라 배송비가 정상적으로 계산되는지 (10만원 이상 무료) 테스트한다.
- [ ] 수량 변경 기능: 상품의 수량을 변경할 때 올바르게 반영되는지 테스트한다.
- [ ] 상품 제거 기능: 장바구니에서 상품을 제거할 때 정상적으로 동작하는지 테스트한다.

<br />

## STEP 2

### 기능 구현

1. 쿠폰 목록 관리

- [x] `/coupons` API를 호출하여 쿠폰 목록 불러오기
- [ ] 쿠폰 목록 상태 관리 (Recoil)

2. 쿠폰 적용 로직 구현

- 5,000원 할인 쿠폰 (FIXED5000)

  - [ ] 주문 금액이 100,000원 이상일 때 5,000원 할인 적용
  - [ ] 쿠폰 만료일 체크 (2024년 11월 30일)

- 2개 구매 시 1개 무료 쿠폰 (BOGO)

  - [ ] 장바구니에 동일 제품 3개 담았을 때 1개 분량 금액 할인
  - [ ] 여러 제품에 적용할 때, 1개당 금액이 가장 비싼 제품에 적용
  - [ ] 쿠폰 만료일 체크 (2024년 5월 30일)

- 5만원 이상 구매 시 무료 배송 쿠폰 (FREESHIPPING)

  - [ ] 주문 금액이 50,000원 이상일 때 무료 배송 적용
  - [ ] 도서 및 산간 지역에도 무료 배송 적용
  - [ ] 쿠폰 만료일 체크 (2024년 8월 31일)

- 미라클모닝 30% 할인 쿠폰 (MIRACLESALE)

  - [ ] 오전 4시부터 7시까지 30% 할인 적용
  - [ ] 쿠폰 만료일 체크 (2024년 7월 31일)

3. 쿠폰 복수 할인 적용

- [ ] 최대 2개의 쿠폰을 동시에 적용 가능
- [ ] 쿠폰 적용 순서에 따라 할인 금액 계산
- [ ] 최종 결제 금액 계산 시 더 큰 할인 금액 기준으로 적용

4. 배송비 계산

- [ ] 최종 결제 금액과 관계없이 주문 금액이 100,000원 이상일 때 무료 배송 혜택 적용
- [ ] 제주도 및 도서 산간 지역 체크박스에 체크 시 배송비 3천원 추가

### UI

- 모달창
  - [ ] 쿠폰 코드 입력을 위한 모달창 구현

### RTL

- [ ] 쿠폰 적용 시나리오 테스트 케이스 작성
- [ ] 파생 상태에 대한 테스트 케이스 작성

### 상태 관리

- [ ] 쿠폰 로직과 관련된 파생 상태 Recoil로 관리
